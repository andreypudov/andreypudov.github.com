<!--
 * Andrey Pudov Official Website
 *
 * The MIT License
 *
 * Copyright 2011-2015 Andrey Pudov.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
-->
<!DOCTYPE html>
<html>
  <head>
    <title>Andrey Pudov - IP Address</title>
    
    <meta charset='utf-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    
    <meta name='viewport'    content='width=device-width, initial-scale=1.0' />
    <meta name='description' content='Official Andrey Pudov website featuring Andrey Pudov news, photo albums and more.' />
    <meta name='author'      content='Andrey Pudov' />
    
    <!-- bootstrap core style sheet -->
    <link href='libraries/bootstrap/css/bootstrap.css' rel='stylesheet' />

    <!-- web page specific styles declaration -->
    
    
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src='https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js'></script>
      <script src='https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js'></script>
    <![endif]-->

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
      (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
        try {
          w.yaCounter22906810 = new Ya.Metrika({id:22906810,
            webvisor:true,
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true});
        } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
      })(document, window, "yandex_metrika_callbacks");
    </script>
    <noscript><div><img src="//mc.yandex.ru/watch/22906810" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
  </head>
    <body>
      <div id='page'>
        <div id='header'>
          
        </div>
        <div id='content'>
          <table>
        <tr>
          <td>IP:</td>
          <td id='ip'></td>
        <tr>
        <tr>
          <td>Hostname:</td>
          <td id='hostname'></td>
        <tr>
        <tr>
          <td>City:</td>
          <td id='city'></td>
        <tr>
        <tr>
          <td>Region:</td>
          <td id='region'></td>
        <tr>
        <tr>
          <td>Country:</td>
          <td id='country'></td>
        <tr>
        <tr>
          <td>Loc:</td>
          <td id='loc'></td>
        <tr>
        <tr>
          <td>Org:</td>
          <td id='org'></td>
        <tr>
        <tr>
          <td id='error' colspan='2'></td>
        <tr>
      </table>
        </div>
        <div id='footer'>
          <style>
        table {
          margin: 10px;
        }

        td:first-child {
          padding-right: 10px;
          font-weight:   bold;
        }
      </style>

      <script>
        function initialize() {
          var ip       = document.getElementById('ip');
          var hostname = document.getElementById('hostname');
          var city     = document.getElementById('city');
          var region   = document.getElementById('region');
          var country  = document.getElementById('country');
          var loc      = document.getElementById('loc');
          var org      = document.getElementById('org');
          var error    = document.getElementById('error');

          var xhr;
          var data;

          if (window.XMLHttpRequest) {
            xhr = new XMLHttpRequest();
          } else {
            xhr = new ActiveXObject('Microsoft.XMLHTTP');
          }

          xhr.open('GET','http://ipinfo.io/json', true);

          xhr.onload = function (e) {
            if (xhr.readyState === 4) {
              if (xhr.status === 200) {
                data = JSON.parse(xhr.responseText);

                ip.innerHTML       = data.ip;
                hostname.innerHTML = data.hostname;
                city.innerHTML     = data.city;
                region.innerHTML   = data.region;
                country.innerHTML  = data.country;
                loc.innerHTML      = data.loc;
                org.innerHTML      = data.org;
              } else {
                error.innerHTML = 'Error: ' + xhr.statusText;
              }
            }
          };
          xhr.onerror = function (e) {
            error.innerHTML = 'Error: ' + xhr.statusText;
          };

          xhr.send();
        }

        initialize();
      </script>                 
        </div>
      </div>
    </body>
</html>
