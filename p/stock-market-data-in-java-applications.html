<!--
 * Andrey Pudov Official Website
 *
 * The MIT License
 *
 * Copyright 2011-2015 Andrey Pudov.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
-->
<!DOCTYPE html>
<html>
  <head>
    <title>Andrey Pudov - Stock Market Data in Java Applications. Historical Data.</title>
    
    <meta charset='utf-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    
    <meta name='viewport'    content='width=device-width, initial-scale=1.0' />
    <meta name='description' content='Official Andrey Pudov website featuring Andrey Pudov news, photo albums and more.' />
    <meta name='author'      content='Andrey Pudov' />
    
    <!-- bootstrap core style sheet -->
    <link href='../libraries/bootstrap/css/bootstrap.css' rel='stylesheet' />

    <!-- web page specific styles declaration -->
    
    
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src='https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js'></script>
      <script src='https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js'></script>
    <![endif]-->

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
      (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
        try {
          w.yaCounter22906810 = new Ya.Metrika({id:22906810,
            webvisor:true,
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true});
        } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
      })(document, window, "yandex_metrika_callbacks");
    </script>
    <noscript><div><img src="//mc.yandex.ru/watch/22906810" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
  </head>
    <body>
      <div id='page'>
        <div id='header'>
          <div class='navbar-wrapper'>
    <div class='container'>
        <div class='navbar navbar-static-top' role='navigation'>
            <div class='container'>
                <div class='navbar-header'>
                    <button type='button' class='navbar-toggle' data-toggle='collapse' data-target='.navbar-collapse'>
                        <span class='sr-only'>Toggle navigation</span>
                        <span class='icon-bar'></span>
                        <span class='icon-bar'></span>
                        <span class='icon-bar'></span>
                    </button>
                    <a href='../index.html' class='navbar-brand'>Andrey Pudov</a>
                </div>
                <div class='navbar-collapse collapse'>
                    <ul class='nav navbar-nav'>
                        <li class='active'><a href='../albums.html'>Albums</a></li>
	                    <li><a href='../contents.html'>Contents</a></li>
	                    <li><a href='../resume.html'>Resume</a></li>
	                    <li><a href='../contact.html'>Contact</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

        </div>
        <div id='content'>
          <div class='container'>
          <div class='page-header'>
            <h1>Stock Market Data in Java Applications. Historical Data.<small><em>Wednesday, April 20, 2011</em></small></h1>
          </div>

          <p>Choosing a stock market data provider is the major question in financial application development. There are two possible solutions: to make a contract to for receive data from one of the stock exchanges, or to use public information. To make the right choice you should consider all the positive and negative sides. Thus, the contract guarantees you uninterrupted access to information and technical support. Public data that are available for free, impose some restrictions: information with a significant delay in time, the absence of any safeguards on the accessibility of information that could lead to inoperability application using this data.</p>

          <p>One of the possible ways to write applications that don't have the critical nature, using the public financial data available on the Yahoo! Finance internet portal, - a service from Yahoo! that provides financial information. It is the top financial news and research website in the United States, with more than 23 million visitors in February 2010, according to comScore.</p>

          <p>Yahoo! Finance offers information including stock quotes, stock exchange rates, corporate press releases and financial reports, and popular message boards for discussing a company's prospects and stock valuation. It also offers some hosted tools for personal finance management. Yahoo! Finance Worldwide offers similar portals localized to assorted large countries in South America, Europe, and Asia.</p>

          <h2>Historical data</h2>

          <p>Any analysis of economic data comes to finding patterns in the past. To reveal these patterns on the market, you will need historical data on securities. Fortunately, Yahoo! Finance provides this information.</p>

          <p>The following listing shows the code requesting the information from Yahoo! Finance. The method creates a query then use the StringTokenizer, reads the information in a CSV format from the stream.</p>

          <pre style="background:#fff;color:#000;border:0;"><span style="color:#06f;font-style:italic">/*
 * CDDL HEADER START
 *
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.
 *
 * Copyright 2011 Andrey Pudov. All rights reserved.
 *
 * The contents of this file are subject to the terms of the
 * Common Development and Distribution License (the "License").
 * You may not use this file except in compliance with the License.
 *
 * You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
 * or http://www.opensolaris.org/os/licensing.
 * See the License for the specific language governing permissions
 * and limitations under the License.
 *
 * When distributing Covered Code, include this CDDL HEADER in each
 * file and include the License file at usr/src/OPENSOLARIS.LICENSE.
 * If applicable, add the following below this CDDL HEADER, with the
 * fields enclosed by brackets "[]" replaced with your own identifying
 * information: Portions Copyright [yyyy] [name of copyright owner]
 *
 * CDDL HEADER END
 *
 *
 * Copyright 2011 Andrey Pudov.  All rights reserved.
 * Use is subject to license terms.
 *
 * Contributor(s):
 *
 * Portions Copyrighted 2011 Andrey Pudov.
 *
 */</span>
<span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">static</span> <span style="color:#00f;font-weight:700">final</span> <span style="color:#00f;font-weight:700">int</span> <span style="color:#c5060b;font-weight:700">CONNECT_TIME_SECONDS</span> <span style="color:#00f;font-weight:700">=</span> <span style="color:#0000cd">2</span>;
<span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">static</span> <span style="color:#00f;font-weight:700">final</span> <span style="color:#00f;font-weight:700">int</span> <span style="color:#c5060b;font-weight:700">READ_TIME_SECONDS</span>    <span style="color:#00f;font-weight:700">=</span> <span style="color:#0000cd">3</span>;
<span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">static</span> <span style="color:#00f;font-weight:700">final</span> <span style="color:#00f;font-weight:700">String</span> historicURL
        <span style="color:#00f;font-weight:700">=</span> <span style="color:#036a07">"http://ichart.finance.yahoo.com/table.csv"</span>;
<span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">java.util.List&lt;<span style="color:#00f;font-weight:700">Historic</span>></span> getHistorical(<span style="color:#00f;font-weight:700">Symbol</span> symbol,
                                              <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>Date</span> start,
                                              <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>Date</span> end,
                                              <span style="color:#00f;font-weight:700">Interval</span> ival) {
    <span style="color:#00f;font-weight:700">java.util.List&lt;<span style="color:#00f;font-weight:700">Historic</span>></span> historic <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.util.ArrayList&lt;></span>(<span style="color:#0000cd">20</span>);
    <span style="color:#00f;font-weight:700">java.net<span style="color:#00f;font-weight:700">.</span>URL</span>           url;
    <span style="color:#00f;font-weight:700">java.net<span style="color:#00f;font-weight:700">.</span>URLConnection</span> connection;
    <span style="color:#06f;font-style:italic">/* a - Month number, starting with 0 for January. */</span>
    <span style="color:#00f;font-weight:700">String</span> a <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>toString(<span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>parseInt(
            <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.text<span style="color:#00f;font-weight:700">.</span>SimpleDateFormat</span>(<span style="color:#036a07">"MM"</span>)<span style="color:#00f;font-weight:700">.</span>format(start)) <span style="color:#00f;font-weight:700">-</span> <span style="color:#0000cd">1</span>);
    <span style="color:#06f;font-style:italic">/* b - Day number, eg, 1 for the first of the month. */</span>
    <span style="color:#00f;font-weight:700">String</span> b <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>toString(<span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>parseInt(
            <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.text<span style="color:#00f;font-weight:700">.</span>SimpleDateFormat</span>(<span style="color:#036a07">"dd"</span>)<span style="color:#00f;font-weight:700">.</span>format(start)));
    <span style="color:#06f;font-style:italic">/* c - Year. */</span>
    <span style="color:#00f;font-weight:700">String</span> c <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>toString(<span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>parseInt(
            <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.text<span style="color:#00f;font-weight:700">.</span>SimpleDateFormat</span>(<span style="color:#036a07">"yyyy"</span>)<span style="color:#00f;font-weight:700">.</span>format(start)));
    <span style="color:#06f;font-style:italic">/* d - Month number, starting with 0 for January. */</span>
    <span style="color:#00f;font-weight:700">String</span> d <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>toString(<span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>parseInt(
            <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.text<span style="color:#00f;font-weight:700">.</span>SimpleDateFormat</span>(<span style="color:#036a07">"MM"</span>)<span style="color:#00f;font-weight:700">.</span>format(end)) <span style="color:#00f;font-weight:700">-</span> <span style="color:#0000cd">1</span>);
    <span style="color:#06f;font-style:italic">/* e - Day number, eg, 1 for the first of the month. */</span>
    <span style="color:#00f;font-weight:700">String</span> e <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>toString(<span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>parseInt(
            <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.text<span style="color:#00f;font-weight:700">.</span>SimpleDateFormat</span>(<span style="color:#036a07">"dd"</span>)<span style="color:#00f;font-weight:700">.</span>format(end)));
    <span style="color:#06f;font-style:italic">/* f - Year. */</span>
    <span style="color:#00f;font-weight:700">String</span> f <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>toString(<span style="color:#00f;font-weight:700">Integer</span><span style="color:#00f;font-weight:700">.</span>parseInt(
            <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.text<span style="color:#00f;font-weight:700">.</span>SimpleDateFormat</span>(<span style="color:#036a07">"yyyy"</span>)<span style="color:#00f;font-weight:700">.</span>format(end)));
    <span style="color:#06f;font-style:italic">/* frequency of historical prices */</span>
    <span style="color:#00f;font-weight:700">String</span> g;
    <span style="color:#00f;font-weight:700">switch</span> (ival) {
        <span style="color:#00f;font-weight:700">case</span> <span style="color:#c5060b;font-weight:700">DAYLY</span><span style="color:#00f;font-weight:700">:</span>
            g <span style="color:#00f;font-weight:700">=</span> <span style="color:#036a07">"d"</span>;
            <span style="color:#00f;font-weight:700">break</span>;
        <span style="color:#00f;font-weight:700">case</span> <span style="color:#c5060b;font-weight:700">WEEKLY</span><span style="color:#00f;font-weight:700">:</span>
            g <span style="color:#00f;font-weight:700">=</span> <span style="color:#036a07">"w"</span>;
            <span style="color:#00f;font-weight:700">break</span>;
        <span style="color:#00f;font-weight:700">case</span> <span style="color:#c5060b;font-weight:700">MONTHLY</span><span style="color:#00f;font-weight:700">:</span>
            g <span style="color:#00f;font-weight:700">=</span> <span style="color:#036a07">"m"</span>;
            <span style="color:#00f;font-weight:700">break</span>;
        <span style="color:#00f;font-weight:700">default</span><span style="color:#00f;font-weight:700">:</span>
            g <span style="color:#00f;font-weight:700">=</span> <span style="color:#036a07">"d"</span>;
            <span style="color:#00f;font-weight:700">break</span>;
    }
    <span style="color:#00f;font-weight:700">try</span> {
        url <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.net<span style="color:#00f;font-weight:700">.</span>URL</span>(historicURL <span style="color:#00f;font-weight:700">+</span> <span style="color:#036a07">"?s="</span> <span style="color:#00f;font-weight:700">+</span> symbol<span style="color:#00f;font-weight:700">.</span>getCode()
                               <span style="color:#00f;font-weight:700">+</span> <span style="color:#036a07">"&amp;d="</span> <span style="color:#00f;font-weight:700">+</span> d <span style="color:#00f;font-weight:700">+</span> <span style="color:#036a07">"&amp;e="</span> <span style="color:#00f;font-weight:700">+</span> e <span style="color:#00f;font-weight:700">+</span> <span style="color:#036a07">"&amp;f="</span> <span style="color:#00f;font-weight:700">+</span> f <span style="color:#00f;font-weight:700">+</span> <span style="color:#036a07">"&amp;g="</span>
                               <span style="color:#00f;font-weight:700">+</span> g <span style="color:#00f;font-weight:700">+</span><span style="color:#036a07">"&amp;a="</span> <span style="color:#00f;font-weight:700">+</span> a <span style="color:#00f;font-weight:700">+</span> <span style="color:#036a07">"&amp;b="</span> <span style="color:#00f;font-weight:700">+</span> b <span style="color:#00f;font-weight:700">+</span> <span style="color:#036a07">"&amp;c="</span> <span style="color:#00f;font-weight:700">+</span> c
                               <span style="color:#00f;font-weight:700">+</span> <span style="color:#036a07">"&amp;ignore=.csv"</span>);
        connection <span style="color:#00f;font-weight:700">=</span> url<span style="color:#00f;font-weight:700">.</span>openConnection();
        connection<span style="color:#00f;font-weight:700">.</span>setConnectTimeout(<span style="color:#c5060b;font-weight:700">CONNECT_TIME_SECONDS</span> <span style="color:#00f;font-weight:700">*</span> <span style="color:#0000cd">1000</span>);
        connection<span style="color:#00f;font-weight:700">.</span>setReadTimeout(<span style="color:#c5060b;font-weight:700">READ_TIME_SECONDS</span> <span style="color:#00f;font-weight:700">*</span> <span style="color:#0000cd">1000</span>);
        connection<span style="color:#00f;font-weight:700">.</span>setDoInput(<span style="color:#585cf6;font-weight:700">true</span>);
        connection<span style="color:#00f;font-weight:700">.</span>setUseCaches(<span style="color:#585cf6;font-weight:700">false</span>);
        <span style="color:#00f;font-weight:700">try</span> (<span style="color:#00f;font-weight:700">java.io<span style="color:#00f;font-weight:700">.</span>BufferedReader</span> br <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.io<span style="color:#00f;font-weight:700">.</span>BufferedReader</span>(
                <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.io<span style="color:#00f;font-weight:700">.</span>InputStreamReader</span>(connection<span style="color:#00f;font-weight:700">.</span>getInputStream()))) {
            <span style="color:#00f;font-weight:700">Historic</span> historicValue;
            <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>StringTokenizer</span> st;
            <span style="color:#00f;font-weight:700">String</span> s;
            <span style="color:#06f;font-style:italic">/* read title - Date,Open,High,Low,Close,Volume,Adj Close */</span>
            br<span style="color:#00f;font-weight:700">.</span>readLine();
            <span style="color:#00f;font-weight:700">while</span> ((s <span style="color:#00f;font-weight:700">=</span> br<span style="color:#00f;font-weight:700">.</span>readLine()) <span style="color:#00f;font-weight:700">!=</span> <span style="color:#585cf6;font-weight:700">null</span>) {
                st <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>StringTokenizer</span>(s, <span style="color:#036a07">","</span>);
                <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>Date</span> date <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>Date</span>(
                        <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.text<span style="color:#00f;font-weight:700">.</span>SimpleDateFormat</span>(<span style="color:#036a07">"yyyy-MM-dd"</span>)<span style="color:#00f;font-weight:700">.</span>parse(
                            st<span style="color:#00f;font-weight:700">.</span>nextToken())<span style="color:#00f;font-weight:700">.</span>getTime());
                <span style="color:#00f;font-weight:700">double</span> open     <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>parseDouble(st<span style="color:#00f;font-weight:700">.</span>nextToken());
                <span style="color:#00f;font-weight:700">double</span> high     <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>parseDouble(st<span style="color:#00f;font-weight:700">.</span>nextToken());
                <span style="color:#00f;font-weight:700">double</span> low      <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>parseDouble(st<span style="color:#00f;font-weight:700">.</span>nextToken());
                <span style="color:#00f;font-weight:700">double</span> close    <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>parseDouble(st<span style="color:#00f;font-weight:700">.</span>nextToken());
                <span style="color:#00f;font-weight:700">double</span> volume   <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>parseDouble(st<span style="color:#00f;font-weight:700">.</span>nextToken());
                <span style="color:#00f;font-weight:700">double</span> adjClose <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>parseDouble(st<span style="color:#00f;font-weight:700">.</span>nextToken());
                historic<span style="color:#00f;font-weight:700">.</span>add(<span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">Historic</span>(date, open, high, low, close,
                                          volume, adjClose));
            }
        }
    } <span style="color:#00f;font-weight:700">catch</span> (<span style="color:#00f;font-weight:700">java.net<span style="color:#00f;font-weight:700">.</span>MalformedURLException</span>
             <span style="color:#00f;font-weight:700">|</span> <span style="color:#00f;font-weight:700">java.io<span style="color:#00f;font-weight:700">.</span>IOException</span>
             <span style="color:#00f;font-weight:700">|</span> <span style="color:#00f;font-weight:700">java.text<span style="color:#00f;font-weight:700">.</span>ParseException</span> ex) {
        <span style="color:#c5060b;font-weight:700">LOG</span><span style="color:#00f;font-weight:700">.</span>warning(ex<span style="color:#00f;font-weight:700">.</span>toString());
    }
    <span style="color:#00f;font-weight:700">return</span> <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>Collections</span><span style="color:#00f;font-weight:700">.</span>unmodifiableList(historic);
}
          </pre>

          <p>The method uses a class «Historic» which implements the storage of historical records that containe the following fields:</p>

          <ul>
            <li><strong>date</strong> — the calendar date</li>
            <li>
              <strong>OHRC</strong>
              <ul>
                <li><strong>open</strong> - the first price of a security at the beginning of a trading day.</li>
                <li><strong>high</strong> - the day's highest price of a security that has changed hands between a buyer and a seller.</li>
                <li><strong>low</strong> - the day's lowest price of a security that has changed hands between a buyer and a seller.</li>
                <li><strong>close</strong> - the final bid and ask price of a security at the end of a trading session.</li>
              </ul>
            </li>
            <li><strong>volume</strong> - he amount of trading sustained in a security or in the entire market during a given period. Especially heavy volume may indicate that important news has just been announced or is expected.</li>
            <li><strong>adjClose</strong> - provides the closing price for the requested day, week, or month, adjusted for all applicable splits and dividend distributions. Data is adjusted using appropriate split and dividend multipliers.</li>
          </ul>

          <pre style="background:#fff;color:#000; border:0;"><span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">class</span> <span style="text-decoration:underline">Historic</span>  {
   
    <span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>Date</span> date;
    <span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">double</span>         open;
    <span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">double</span>         high;
    <span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">double</span>         low;
    <span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">double</span>         close;
    <span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">double</span>         volume;
    <span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">double</span>         adjClose;
   
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#0000a2;font-weight:700">Historic</span>(<span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>Date</span> <span style="font-style:italic">date</span>, <span style="color:#00f;font-weight:700">double</span> <span style="font-style:italic">open</span>, <span style="color:#00f;font-weight:700">double</span> <span style="font-style:italic">high</span>, <span style="color:#00f;font-weight:700">double</span> <span style="font-style:italic">low</span>,
                    <span style="color:#00f;font-weight:700">double</span> <span style="font-style:italic">close</span>, <span style="color:#00f;font-weight:700">double</span> <span style="font-style:italic">volume</span>, <span style="color:#00f;font-weight:700">double</span> <span style="font-style:italic">adjClose</span>) {
        <span style="color:#318495">super</span>();
       
        <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>date     <span style="color:#00f;font-weight:700">=</span> date;
        <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>open     <span style="color:#00f;font-weight:700">=</span> open;
        <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>high     <span style="color:#00f;font-weight:700">=</span> high;
        <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>low      <span style="color:#00f;font-weight:700">=</span> low;
        <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>close    <span style="color:#00f;font-weight:700">=</span> close;
        <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>volume   <span style="color:#00f;font-weight:700">=</span> volume;
        <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>adjClose <span style="color:#00f;font-weight:700">=</span> adjClose;
    }
   
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">long</span> <span style="color:#0000a2;font-weight:700">getDate</span>() {
        <span style="color:#00f;font-weight:700">return</span> date<span style="color:#00f;font-weight:700">.</span>getTime();
    }
   
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">double</span> <span style="color:#0000a2;font-weight:700">getOpen</span>() {
        <span style="color:#00f;font-weight:700">return</span> open;
    }
   
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">double</span> <span style="color:#0000a2;font-weight:700">getHigh</span>() {
        <span style="color:#00f;font-weight:700">return</span> high;
    }
   
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">double</span> <span style="color:#0000a2;font-weight:700">getLow</span>() {
        <span style="color:#00f;font-weight:700">return</span> low;
    }
   
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">double</span> <span style="color:#0000a2;font-weight:700">getClose</span>() {
        <span style="color:#00f;font-weight:700">return</span> close;
    }
   
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">double</span> <span style="color:#0000a2;font-weight:700">getVolume</span>() {
        <span style="color:#00f;font-weight:700">return</span> volume;
    }
   
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">double</span> <span style="color:#0000a2;font-weight:700">getAdjClose</span>() {
        <span style="color:#00f;font-weight:700">return</span> adjClose;
    }
   
    <span style="color:#00f;font-weight:700">@Override</span>
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">String</span> <span style="color:#0000a2;font-weight:700">toString</span>() {
        <span style="color:#00f;font-weight:700">StringBuilder</span> sb <span style="color:#00f;font-weight:700">=</span> <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">StringBuilder</span>(<span style="color:#0000cd">20</span>);
        <span style="color:#00f;font-weight:700">return</span> sb<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#036a07">"Date:       "</span>
                )<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.text<span style="color:#00f;font-weight:700">.</span>SimpleDateFormat</span>(
                    <span style="color:#036a07">"dd-MMM-yy"</span>)<span style="color:#00f;font-weight:700">.</span>format(date)
                )<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#036a07">"<span style="color:#26b31a">\t</span>Open: "</span>)<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#00f;font-weight:700">String</span><span style="color:#00f;font-weight:700">.</span>format(<span style="color:#036a07">"%1$.2f"</span>, open)
                )<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#036a07">"<span style="color:#26b31a">\t</span>High: "</span>)<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#00f;font-weight:700">String</span><span style="color:#00f;font-weight:700">.</span>format(<span style="color:#036a07">"%1$.2f"</span>, high)
                )<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#036a07">"<span style="color:#26b31a">\t</span>Low: "</span>)<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#00f;font-weight:700">String</span><span style="color:#00f;font-weight:700">.</span>format(<span style="color:#036a07">"%1$.2f"</span>, low)
                )<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#036a07">"<span style="color:#26b31a">\t</span>Close: "</span>)<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#00f;font-weight:700">String</span><span style="color:#00f;font-weight:700">.</span>format(<span style="color:#036a07">"%1$.2f"</span>, close)
                )<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#036a07">"<span style="color:#26b31a">\t</span>Volume: "</span>)<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#00f;font-weight:700">String</span><span style="color:#00f;font-weight:700">.</span>format(<span style="color:#036a07">"%1$.2f"</span>, volume)
                )<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#036a07">"<span style="color:#26b31a">\t</span>AdjClose: "</span>)<span style="color:#00f;font-weight:700">.</span>append(<span style="color:#00f;font-weight:700">String</span><span style="color:#00f;font-weight:700">.</span>format(<span style="color:#036a07">"%1$.2f"</span>, adjClose)
                )<span style="color:#00f;font-weight:700">.</span>toString();
    }
   
    <span style="color:#00f;font-weight:700">@Override</span>
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">int</span> <span style="color:#0000a2;font-weight:700">hashCode</span>() {
        <span style="color:#00f;font-weight:700">return</span> <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>date<span style="color:#00f;font-weight:700">.</span>hashCode() <span style="color:#00f;font-weight:700">+</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>valueOf(open)<span style="color:#00f;font-weight:700">.</span>hashCode()
               <span style="color:#00f;font-weight:700">+</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>valueOf(high)<span style="color:#00f;font-weight:700">.</span>hashCode()
               <span style="color:#00f;font-weight:700">+</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>valueOf(low)<span style="color:#00f;font-weight:700">.</span>hashCode()
               <span style="color:#00f;font-weight:700">+</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>valueOf(close)<span style="color:#00f;font-weight:700">.</span>hashCode()
               <span style="color:#00f;font-weight:700">+</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>valueOf(volume)<span style="color:#00f;font-weight:700">.</span>hashCode()
               <span style="color:#00f;font-weight:700">+</span> <span style="color:#00f;font-weight:700">Double</span><span style="color:#00f;font-weight:700">.</span>valueOf(adjClose)<span style="color:#00f;font-weight:700">.</span>hashCode();
    }
   
}
          </pre>

          <p>In the same way you need a class “Symbol”, containing information on security and enumeration “Interval”, indicating the sampling interval of data.</p>

          <pre style="background:#fff;color:#000; border:0;"><span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">class</span> <span style="text-decoration:underline">Symbol</span> {
   
    <span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">String</span> code;
    <span style="color:#00f;font-weight:700">private</span> <span style="color:#00f;font-weight:700">String</span> description;
   
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#0000a2;font-weight:700">Symbol</span>(<span style="color:#00f;font-weight:700">String</span> <span style="font-style:italic">code</span>, <span style="color:#00f;font-weight:700">String</span> <span style="font-style:italic">description</span>) {
        <span style="color:#318495">super</span>();
       
        <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>code <span style="color:#00f;font-weight:700">=</span> code;
        <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>description <span style="color:#00f;font-weight:700">=</span> description;
    }
   
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">String</span> <span style="color:#0000a2;font-weight:700">getCode</span>() {
        <span style="color:#00f;font-weight:700">return</span> <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>code;
    }
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">String</span> <span style="color:#0000a2;font-weight:700">getDescription</span>() {
        <span style="color:#00f;font-weight:700">return</span> <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>description;
    }
   
    <span style="color:#00f;font-weight:700">@Override</span>
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">int</span> <span style="color:#0000a2;font-weight:700">hashCode</span>() {
        <span style="color:#00f;font-weight:700">return</span> <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>code<span style="color:#00f;font-weight:700">.</span>hashCode();
    }
    <span style="color:#00f;font-weight:700">@Override</span>
    <span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">boolean</span> <span style="color:#0000a2;font-weight:700">equals</span>(<span style="color:#00f;font-weight:700">Object</span> <span style="font-style:italic">o</span>) {
        <span style="color:#00f;font-weight:700">Symbol</span> symbol;
        <span style="color:#00f;font-weight:700">if</span> ((o <span style="color:#00f;font-weight:700">instanceof</span> <span style="color:#00f;font-weight:700">Symbol</span>)) {
            symbol <span style="color:#00f;font-weight:700">=</span> (<span style="color:#00f;font-weight:700">Symbol</span>) o;
        } <span style="color:#00f;font-weight:700">else</span> {
            <span style="color:#00f;font-weight:700">return</span> <span style="color:#585cf6;font-weight:700">false</span>;
        }
        <span style="color:#00f;font-weight:700">return</span> <span style="color:#318495">this</span><span style="color:#00f;font-weight:700">.</span>code<span style="color:#00f;font-weight:700">.</span>equals(symbol<span style="color:#00f;font-weight:700">.</span>getCode());
    }
   
}
          </pre>

          <pre style="background:#fff;color:#000; border:0;"><span style="color:#00f;font-weight:700">public</span> <span style="color:#00f;font-weight:700">enum</span> <span style="text-decoration:underline">Interval</span> {
    <span style="color:#c5060b;font-weight:700">DAYLY</span>, <span style="color:#c5060b;font-weight:700">WEEKLY</span>, <span style="color:#c5060b;font-weight:700">MONTHLY</span>
}
          </pre>

          <h2>Example</h2>

          <pre style="background:#fff;color:#000;border:0;"><span style="color:#00f;font-weight:700">java.util.List&lt;<span style="color:#00f;font-weight:700">Historic</span>></span>  historic <span style="color:#00f;font-weight:700">=</span> getHistorical(<span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">Symbol</span>(
                        <span style="color:#036a07">"GOOG"</span>, <span style="color:#585cf6;font-weight:700">null</span>),
                    <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>GregorianCalendar</span>(
                            <span style="color:#0000cd">2010</span>, <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>Calendar</span><span style="color:#c5060b;font-weight:700"><span style="color:#00f;font-weight:700">.</span>JANUARY</span>, <span style="color:#0000cd">01</span>)<span style="color:#00f;font-weight:700">.</span>getTime(),
                    <span style="color:#00f;font-weight:700">new</span> <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>GregorianCalendar</span>(
                            <span style="color:#0000cd">2010</span>, <span style="color:#00f;font-weight:700">java.util<span style="color:#00f;font-weight:700">.</span>Calendar</span><span style="color:#c5060b;font-weight:700"><span style="color:#00f;font-weight:700">.</span>DECEMBER</span>, <span style="color:#0000cd">01</span>)<span style="color:#00f;font-weight:700">.</span>getTime(),
                    <span style="color:#00f;font-weight:700">Interval</span><span style="color:#c5060b;font-weight:700"><span style="color:#00f;font-weight:700">.</span>DAYLY</span>);
       
<span style="color:#00f;font-weight:700">for</span> (<span style="color:#00f;font-weight:700">Historic</span> value <span style="color:#00f;font-weight:700">:</span> historic) {
    <span style="color:#00f;font-weight:700">System</span><span style="color:#00f;font-weight:700">.</span>out<span style="color:#00f;font-weight:700">.</span>println(value);
}
          </pre>

          <p>This code shows the information as follows (volume reduced):</p>

          <p>Date: 01-Dec-10 Open: 563.00 High: 571.57 Low: 562.40 Close: 564.35 Volume: 3754100.00 AdjClose: 564.35<br />
Date: 30-Nov-10 Open: 574.32 High: 574.32 Low: 553.31 Close: 555.71 Volume: 7117400.00 AdjClose: 555.71<br />
Date: 29-Nov-10 Open: 589.17 High: 589.80 Low: 579.95 Close: 582.11 Volume: 2859700.00 AdjClose: 582.11<br />
...<br />
Date: 05-Jan-10 Open: 627.18 High: 627.84 Low: 621.54 Close: 623.99 Volume: 3004700.00 AdjClose: 623.99<br />
Date: 04-Jan-10 Open: 626.95 High: 629.51 Low: 624.24 Close: 626.75 Volume: 1956200.00 AdjClose: 626.75<br /></p>
        </div>
        </div>
        <div id='footer'>
          <div class='container'>
    <footer>
        <hr class='footer-divider' />

        <ul class='piped-links pull-right'>
            <li class='first piped-links-short'><a href='../resume.html'>About</a></li>
            <li class='first piped-links-long'><a href='../resume.html'>About Andrey Pudov</a></li>
            <li><a href='../contact.html'>Contact</a></li>
        </ul>

        <ul class='piped-links'>
            <p class='piped-links-long'>Copyright &#169; 2015 Andrey Pudov. All rights reserved.</p>
        </ul>

        <p class='piped-links-short'>&#169; 2015 Andrey Pudov. All rights reserved.</p>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src='../libraries/jquery/jquery-1.11.1.min.js'></script>
    <!-- <script src='../libraries/jquery/jquery.validate.min.js'></script> -->

    <!-- <script src='../libraries/bootstrap/js/bootstrap.min.js'></script> -->

    <script src='../libraries/bootstrap/js/collapse.js' ></script>
    <script src='../libraries/bootstrap/js/dropdown.js' ></script>
    <script src='../libraries/bootstrap/js/transition.js' ></script>

    <!-- web page specific scripts declaration -->
    

    <!-- common on init functions -->
    <script src='../scripts/init.js'></script>
</div>
                 
        </div>
      </div>
    </body>
</html>
